<section class="stepSection">
  <div id="step1" *ngIf="current === 0">
    <button
      nz-button
      nzType="question"
      nz-popover
      nzPopoverTitle="Step 1"
      [(nzPopoverVisible)]="visible"
      (nzPopoverVisibleChange)="change($event)"
      nzPopoverTrigger="click"
      [nzPopoverContent]="contentTemplate"
      class="stepIcon"
      [nzPopoverPlacement]="'rightTop'"
    >
      ?
    </button>
    <ng-template #contentTemplate>
      <div class="stepInfo">
        <p class="stepPara">
          First, either upload a single Word document here (.doc or .docx).
          You can use your grant or project funding application file for this purpose. 
          <br/><br/>
          You can also start without a file upload and just access the entire database of indicators.
          <br/><br/>
          You can select the theme(s) that best apply to the subject of your project to limit the results.
          You may select as many themes as you want.
          <br/><br/>
          Note: If you are unsure which themes are relevant, don't worry â€“ 
          you'll be able to add more filters in the next step.
      </div>
      <a (click)="clickClose()">Close</a>
    </ng-template>
  </div>

  <div id="step2" *ngIf="current === 1">
    <button
      nz-button
      nzType="question"
      nz-popover
      nzPopoverTitle="Step 2"
      [(nzPopoverVisible)]="visible"
      (nzPopoverVisibleChange)="change($event)"
      nzPopoverTrigger="click"
      [nzPopoverContent]="contentTemplate"
      class="stepIcon"
      [nzPopoverPlacement]="'rightTop'"
    >
      ?
    </button>
    <ng-template #contentTemplate>
      <div class="step2Info">
        <p>
          Here are the suggested indicators for you, based on the keywords in your
          document and the themes selected. Indicators are categorised as Impacts,
          Outcomes, or Outputs. If you have not uploaded a document, we are showing
          you all indicators that matched your filter criteria. 
          <br/><br/>
          Select the indicators you want to use to track the success of your project,
          then click Next.
          <br/><br/>
          Note: In this step, you can select additional themes or indicators
          that you wish to include in your logframe.
        </p>
      </div>
      <a (click)="clickClose()">Close</a>
    </ng-template>
  </div>
</section>
<div class="content-section">
  <nz-steps [nzCurrent]="current">
    <nz-step nzTitle="SELECTION" nzIcon="folder"></nz-step>
    <nz-step nzTitle="RESULT" nzIcon="bars"></nz-step>
    <nz-step nzTitle="VISUALISATION" nzIcon="eye"></nz-step>
    <nz-step nzTitle="DOWNLOAD" nzIcon="download"></nz-step>
  </nz-steps>
  <div class="steps-content">
    <app-selectdocument *ngIf="current === 0"> </app-selectdocument>
    <app-scanresult *ngIf="current === 1"> </app-scanresult>
    <app-visualisationresult *ngIf="current === 2"> </app-visualisationresult>
    <app-downloadresult *ngIf="current === 3"> </app-downloadresult>
  </div>
  <div class="steps-action">
    <button
      nz-button
      class="steps-button"
      nzType="default"
      (click)="pre()"
      [hidden]="current <= 0"
    >
      <span>Previous</span>
    </button>
    <!-- Remove [disabled]="!isNext" and hidden]="!isNext" from below button for MX
          added hidden to hide the button when nothing is uploaded
     -->
    <button
      [disabled]="!isNext"
      [hidden]="!isNext"
      nz-button
      class="steps-button"
      nzType="default"
      (click)="next()"
    >
      <span>Next</span>
    </button>
    <button
      nz-button
      class="steps-button"
      nzType="primary"
      (click)="done()"
      [hidden]="current !== 3"
    >
      <span>Done</span>
    </button>
  </div>
</div>
