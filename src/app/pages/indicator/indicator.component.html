<div>
  <div class="content-section">
    <nz-upload
      nzType="drag"
      [nzMultiple]="false"
      nzAccept=".doc,.docx"
      [nzLimit]="1"
      [nzAction]="urlfileUpload"
      (nzChange)="handleChange($event)"
      [nzSize]="25000"
    >
      <p class="ant-upload-drag-icon">
        <i nz-icon nzType="inbox"></i>
      </p>
      <p class="ant-upload-text">Click to this area to upload</p>
      <p class="ant-upload-hint">
        Support for a single word file upload.
      </p>
    </nz-upload>
  </div>
  <div class="content-section">
    <div style="display: flex; flex-direction: row;">
      <div style="flex-grow: 5;">
        <div style="position: relative;">
          <input
            (input)="search()"
            style="padding-right: 30px;"
            type="text"
            nz-input
            placeholder="Search indicator"
            [(ngModel)]="searchValue"
          />
          <i
            style="position: absolute; top: 9px; right: 10px; color: grey;"
            nz-icon
            nzType="search"
            nzTheme="outline"
          ></i>
        </div>
        <!--button nz-button nzSize="small" nzType="primary" (click)="search()" class="search-button">
            Search
          </button>
          <button nz-button nzSize="small" (click)="reset()">Reset</button-->
      </div>
      <div style="flex-grow: 2;">
        <nz-select
          nzMode="multiple"
          (nzOpenChange)="onChangethemeFiler()"
          style="width: 100%;"
          nzPlaceHolder="Filter by themes"
          [(ngModel)]="listOfSelectedValue"
        >
          <nz-option
            *ngFor="let option of listOfOption"
            [nzLabel]="option"
            [nzValue]="option"
            [nzHide]="!isNotSelected(option)"
          ></nz-option>
        </nz-select>
      </div>
      <button
        style="margin-left: 5px;"
        [disabled]="downloadDisabled"
        type="button"
        nz-button
        (click)="downloadFile()"
      >
        <i nz-icon nzType="download"></i>Download Indicators
      </button>
    </div>
  </div>
  <div class="content-section">
    <nz-table
      #dynamicTable
      [nzData]="displayData"
      [nzLoading]="loading"
      [nzPaginationPosition]="'top'"
      [nzShowPagination]="true"
      [nzShowSizeChanger]="true"
      nzBordered
    >
      <thead (nzSortChange)="sort($event)" nzSingleSort>
        <tr>
          <th
            nzShowCheckbox
            [(nzChecked)]="isAllDisplayDataChecked"
            [nzIndeterminate]="isIndeterminate"
            (nzCheckedChange)="checkAll($event)"
          ></th>
          <th nzShowSort nzSortKey="level" nzWidth="200px">
            Level
          </th>
          <th nzShowSort nzSortKey="level">
            Indicator
          </th>
          <th nzShowSort nzSortKey="description" nzWidth="200px">
            Thematic Area
          </th>
          <th nzShowSort nzSortKey="description" nzWidth="200px">
            Source
          </th>
          <th nzShowSort nzSortKey="description" nzWidth="200px">
            Disaggregation
          </th>

          <!--th nzShowSort nzSortKey="level" nzCustomFilter nzWidth="200px">
              Indicator
              <i nz-th-extra class="ant-table-filter-icon" nz-icon nz-dropdown #dropdown="nzDropdown" nzType="search"
                [nzDropdownMenu]="menu" [class.ant-table-filter-open]="dropdown.nzVisible" nzTrigger="click"
                nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter></i>
            </th-->
        </tr>
      </thead>
      <tbody>
        <ng-template ngFor let-data [ngForOf]="dynamicTable.data">
          <tr>
            <td
              nzShowCheckbox
              [(nzChecked)]="mapOfCheckedId[data.id]"
              (nzCheckedChange)="refreshStatus()"
            ></td>
            <td>
              <nz-tag [nzColor]="data.color">{{ data.level }} </nz-tag>
            </td>
            <td>{{ data.label }}</td>
            <td></td>
            <td>{{ data.description }}</td>
            <td></td>
            <td></td>
            <td>
              <span *ngFor="let key of data.keys"> {{ key }}, </span>
            </td>
          </tr>
        </ng-template>
      </tbody>
    </nz-table>
  </div>
</div>
